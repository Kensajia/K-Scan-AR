<!DOCTYPE html>
<html>
    <head>
    <script type="module" src="../../assets/Recur/mindar-image.prod.js"></script>
    
    <script type="module" src="../../assets/Recur/three.min.js"></script>
    
    <script type="module" src="../../assets/Recur/mindar-image-three.prod.js"></script>

    <script type="module">
        // Declaramos las variables globales que esperamos
        const MINDAR = window.MINDAR;
        const THREE = window.THREE;
        
        // =====================================================================
        // 1. TABLA DE CONTENIDOS DINÁMICA
        // =====================================================================
        const ContenidoModulo = { /* ... */ }; 

        document.addEventListener('DOMContentLoaded', () => {

            // =====================================================================
            // 2. INICIALIZACIÓN MINDAR
            // =====================================================================
            // Si las librerías cargaron, MINDAR existe
            const mindarThree = new MINDAR.MindARThree({ 
                container: document.querySelector("#container"),
                imageTargetSrc: "assets/targets.mind" 
            });
            const {renderer, scene, camera} = mindarThree;
            
            // ... (Resto de tu lógica: creation, start, stop) ...

            // ... (Asegúrate de que el resto de tu código es el mismo que en la respuesta anterior) ...

            const start = async() => {
                await mindarThree.start();
                document.querySelector("#container").style.display = 'block';
                document.querySelector("#startButton").style.display = 'none'; 
                document.querySelector("#stopButton").style.display = 'block'; 

                renderer.setAnimationLoop(() => {
                    renderer.render(scene, camera);
                });
            }
            
            // ... (Funciones stop, event listeners, etc.) ...
            
        });
    </script>
    
    </head>
    
    <body>
        <div id="control">
            <button id="startButton">5 START AR</button> 
            <button id="stopButton">STOP AR</button>
        </div>
        <div id="container">
        </div>
    </body>
</html>
