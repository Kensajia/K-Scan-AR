<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>AR Experience - Reinicio Limpio</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
        
        <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1.6.0/dist/aframe-master.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
        
        <style>
            /* Estilo para el Loader (opcional, pero limpio) */
            .arjs-loader {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 30px;
                background-color: rgba(0, 0, 0, 0.6);
                color: white;
                text-align: center;
                line-height: 30px;
                z-index: 999;
            }
        </style>
    </head>

    <body style="margin : 0px; overflow: hidden;">
        
        <div class="arjs-loader">
            Cargando Realidad Aumentada...
        </div>
        
        <a-scene
            vr-mode-ui="enabled: false;"
            renderer="logarithmicDepthBuffer: true;"
            embedded

            arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
            id="scene"

            gesture-detector
        >
            <a-nft
                type="nft"
                url="assets/T000001-SUSAM-01" 
                smooth="true"
                smoothCount="10"
                smoothTolerance=".01"
                smoothThreshold="5"
            >
                <a-box 
                    color="#4CC3D9" 
                    scale="100 100 100" 
                    position="0 50 0" 
                    rotation="0 0 0">
                </a-box>
            </a-nft>

            <a-marker
                type="pattern"
                preset="custom"
                url="assets/taza.patt"
            >
                <a-sphere 
                    color="red" 
                    radius="0.5" 
                    position="0 1 0" 
                    rotation="0 0 0">
                </a-sphere>
            </a-marker>

            <a-entity camera></a-entity> 
        </a-scene>

        <script>
            // Función simple para ocultar el loader una vez que la escena esté lista
            document.querySelector('a-scene').addEventListener('loaded', function () {
                const loader = document.querySelector('.arjs-loader');
                if (loader) {
                    loader.style.display = 'none';
                }
            });
        </script>
    </body>
</html>
