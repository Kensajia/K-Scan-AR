<!DOCTYPE html>
<html>
    <head>
    <script type="importmap">
    {
      "imports": {
        // Aseguramos que la clave de importación también tenga un prefijo relativo
        "./three": "../../assets/Recur/three.min.js",
        "./mindar-image-three": "../../assets/Recur/mindar-image-three.prod.js"
      }
    }
    </script>
    
    <script type="module">
        // Importamos las clases usando el prefijo relativo definido en el importmap
        import * as THREE from './three';
        import { MindARThree } from './mindar-image-three';

        // =====================================================================
        // 1. TABLA DE CONTENIDOS DINÁMICA
        // =====================================================================
        const ContenidoModulo = { /* ... */ }; // Tu objeto de contenidos

        document.addEventListener('DOMContentLoaded', () => {

            // =====================================================================
            // 2. INICIALIZACIÓN MINDAR
            // =====================================================================
            const mindarThree = new MindARThree({ 
                container: document.querySelector("#container"),
                imageTargetSrc: "assets/targets.mind" 
            });
            const {renderer, scene, camera} = mindarThree;
            
            // ... (Resto de tu lógica se mantiene igual) ...

            // NOTA: El resto del código JS (creación de contenido, start, stop, etc.)
            // es idéntico al que te proporcioné antes.
        });
    </script>
    
    </head>
    
    <body>
        <div id="control">
            <button id="startButton">7 START AR</button> 
            <button id="stopButton">STOP AR</button>
        </div>
        <div id="container">
        </div>
    </body>
</html>
